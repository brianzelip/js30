<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" href="https://npmcdn.com/basscss@7.1.1/css/basscss.min.css">
    <title>Update CSS Variables in JS</title>
    <meta name="description" content="">
    <meta name="author" content="Brian Zelip">
    <meta name="keywords" content="">
    <style>
      body,
      .vh100 { min-height: 100vh; }
      .container {
        max-width:100rem;
        margin-left:auto;
        margin-right:auto;
      }
      .h0 { font-size: 4rem; }
      .align-items-center { align-items: center; }
      .justify-content-center { justify-content: center; }
      .justify-content-start { justify-content: flex-start; }
      .align-content-center { align-content: center; }
      .align-self-start { align-self: flex-start; }
      .align-self-center { align-self: center; }

      .preview {
        background: var(--accentColor);
        border: var(--borderSize) solid red;
        height: 100%;
      }

      input[type=range] {
        margin: 0;
        padding: 1rem 0;
      }

      input[type=range]::-webkit-slider-thumb {
        background: green;
      }

      input[type=range]::-moz-range-track {
        background: red;
        height: .25rem;
        box-shadow: 1px 1px 0 green;
      }

      input[type=range]::-moz-range-thumb {
        background-color: red;
        border: none;
        width: 2rem;
        height: 2rem;
        border-radius: 50%;
        box-shadow: 1px 1px 0 green;
      }

      input[type=color] {
        border: none;
        width: 100%;
      }

      .fontSize { font-size: var(--fontSize); }
      .fontFamily { font-family: var(--fontFamily); }
      .borderSize { border-width: var(--borderSize); }
      .accentColor { color: var(--accentColor); }
      .rotateX { transform: rotateX(var(--rotateX)); }
      .scaleY { transform: scaleY(var(--scaleY)); }

      .border-left { border-left: 2px solid var(--accentColor); }
      .origin-right { transform-origin: right; }

      :root {
        --fontSize: 2rem;
        --fontFamily: "Helvetica Neue",Helvetica,sans-serif;
        --borderSize: 2rem;
        --accentColor: #eeeeee;
        --rotateX: 0deg;
        --scaleY: 0;

      }
    </style>
  </head>

  <body>

    <div class="vh100 container flex flex-column align-items-center justify-content-center">
      <div class="flex flex-center col-12">
        <section class="col-5 p3 border-box">
          <div>
            <form class="controls">
              <label class=""><code>:root { --fontSize: <output name="fontSizeValue">2</output>rem; }</code></label>
              <input type="range" name="fontSizeRange" min="1" max="8" value="2" class="col-12" oninput="this.form.fontSizeValue.value=this.value" data-unit="rem" data-var-name="fontSize">

              <hr>

              <label class=""><code>:root { <br> <span style="padding-left: 1rem;">--fontFamily: <output name="fontFamilyValue">"Helvetica Neue", Helvetica, sans-serif</output>;</span><br>  }</code></label>

              <select name="fontFamilySelect" class="col-12 h5" oninput="this.form.fontFamilyValue.value=this.value" data-var-name="fontFamily">
                <option value="&quot;Helvetica Neue&quot;, Helvetica, sans-serif">Sans-Serif</option>
                <option value="Georgia, Times, serif" selected>Serif</option>
                <option value="&quot;PT Mono&quot;, &quot;Source Code Pro&quot;, Consolas, Monaco, monospace">Monospace</option>
              </select>

              <hr>

              <label class=""><code>:root { --borderSize: <output name="borderSizeValue">2</output>rem; }</code></label>
              <input type="range" name="borderSizeRange" min="0" max="5" value="2" class="col-12" oninput="this.form.borderSizeValue.value=this.value" data-unit="rem" data-var-name="borderSize">
              <!-- <input type="number" name="borderValue" value="25" oninput="this.form.border.value=this.value"> -->

              <hr>

              <label class=""><code>:root { --accentColor: <output name="accentColorValue">#eeeeee</output>; }</code></label>
              <input type="color" name="accentColorPicker" value="#eeeeee" class="block p0"   oninput="this.form.accentColorValue.value=this.value" data-var-name="accentColor">


              <hr>

              <label class=""><code>:root { --rotateX: <output name="rotateXValue">0</output>deg; }</code></label>
              <input type="range" name="rotateXRange" min="0" max="360" value="0" class="col-12" oninput="this.form.rotateXValue.value=this.value" data-unit="deg" data-var-name="rotateX">

              <hr>

              <label class=""><code>:root { --scaleY: <output name="scaleYValue">0</output>; }</code></label>
              <input type="range" name="scaleYRange" min="0" max="5" value="0" class="col-12" oninput="this.form.scaleYValue.value=this.value" data-var-name="scaleY">


            </form>
          </div>
        </section>

        <section class="col-7 px3 vh100 flex flex-column border-left">
          <h1 class="h0 fontFamily accentColor overflow-auto">Update <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables" style="color: inherit;">CSS Variables</a> with JS</h1>
          <div class="preview p4 border-box borderSize">
            <p class="m0 overflow-auto fontSize"><code>fontSize</code></p>
            <p class="h0 m0 overflow-auto"><code class="fontFamily">fontFamily</code></p>
          </div>
          <div class="flex mt4">
            <div class="p2 bg-blue flex-auto rotateX origin-right"></div>
            <div class="p2 bg-red flex-auto scaleY"></div>
          </div>
        </section>
      </div>
    </div>

    <script>
      const inputs = document.querySelectorAll('.controls input, .controls select');//just like CSS, you can have multiple selectors!!

      function showUpdate() {
        const variable = '--' + this.dataset.varName;
        const value = this.value + (this.dataset.unit || '');
        document.documentElement.style.setProperty(variable, value);
      }

      inputs.forEach(input => input.addEventListener('change', showUpdate));
      inputs.forEach(input => input.addEventListener('mousemove', showUpdate));

      // Commenting out my initial solution below which could be refactored with less code.
      // Using a peak at the tuorial's solution as the refactor basis.
      //
      // const borderSizeRange = document.querySelector('input[name=borderSizeRange]');
      // const fontSizeRange = document.querySelector('input[name=fontSizeRange]');
      // const accentColorPicker = document.querySelector('input[type=color]');
      //
      // borderSizeRange.addEventListener('input', function(e) {
      //   console.log('The borderSizeRange input value is ' + borderSizeRange.value);
      //   updateBorderSize(borderSizeRange.value);
      // }, false);
      //
      // fontSizeRange.addEventListener('input', function(e) {
      //   console.log('The fontSizeRange input value is ' + fontSizeRange.value);
      //   updateH1FontSize(fontSizeRange.value);
      // }, false);
      //
      // accentColorPicker.addEventListener('input', function(e) {
      //   console.log('The accentColorPicker input value is ' + accentColorPicker.value);
      //   updateAccentColor(accentColorPicker.value);
      // }, false);
      //
      // function updateBorderSize(input) {
      //   document.documentElement.style.setProperty('--borderSize', input + 'rem');
      // }
      //
      // function updateH1FontSize(input) {
      //   document.documentElement.style.setProperty('--fontSize', input + 'rem');
      // }
      //
      // function updateAccentColor(input) {
      //   document.documentElement.style.setProperty('--accentColor', input);
      //   console.log('accentColor input is: ' + input)
      // }
    </script>

  </body>

  <!--
    REFERENCES
    - box-shadow, https://developer.mozilla.org/en-US/docs/Web/CSS/box-shadow
    - input type=range, https://www.w3.org/wiki/HTML/Elements/input/range
    - input, https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input
    - moz-range-thumb, https://developer.mozilla.org/en-US/docs/Web/CSS/::-moz-range-thumb
    - webkit-slider-thumb, https://developer.mozilla.org/en-US/docs/Web/CSS/::-webkit-slider-thumb
    - styling sliders, http://www.quirksmode.org/blog/archives/2015/11/styling_and_scr.html
    - apple (safari) input options, https://developer.apple.com/library/content/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/InputTypes.html
    - show input range value (everything here), http://stackoverflow.com/q/10004723/2145103
    - eventListener oninput, https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/oninput
    - addEventListener(), https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener
    - :root, https://developer.mozilla.org/en-US/docs/Web/CSS/:root
    - setting a custom css variable with javascript, http://stackoverflow.com/a/37802204/2145103
    - tutorial codepen, https://codepen.io/wesbos/pen/adQjoY
    - addEventListener, http://help.dottoro.com/ljeuqqoq.php
    - what helped me understand to just try `inputElement.value`, http://stackoverflow.com/questions/23012635/get-value-of-an-input-type-range#23012666

    - the tutorial's js, https://github.com/wesbos/JavaScript30/blob/master/03%20-%20CSS%20Variables/index-FINISHED.html
    - array.forEach(), https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach
    - NodeList.forEach(), https://developer.mozilla.org/en-US/docs/Web/API/NodeList/forEach
    - this, https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this
    - events, https://developer.mozilla.org/en-US/docs/Web/Events
    - change event, https://developer.mozilla.org/en-US/docs/Web/Events/change
    - input event, https://developer.mozilla.org/en-US/docs/Web/Events/input
    - addEventListener(), https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener
    - html data attributes dataset, https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset
    - <select> instead of <input>, https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select
    - quick font-families via Tachyons, http://tachyons.io/docs/typography/font-family/
    - html entities, http://www.danshort.com/HTMLentities/
    - CSS variables, https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_variables
  -->

</html>
