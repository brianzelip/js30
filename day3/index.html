<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="stylesheet" href="https://npmcdn.com/basscss@7.1.1/css/basscss.min.css">
    <title>Update CSS Variables in JS</title>
    <meta name="description" content="">
    <meta name="author" content="Brian Zelip">
    <meta name="keywords" content="">
    <style>
      body,
      .vh100 { min-height: 100vh; }
      .align-items-center { align-items: center; }
      .justify-content-center { justify-content: center; }
      .justify-content-start { justify-content: flex-start; }
      .align-content-center { align-content: center; }
      .align-self-start { align-self: flex-start; }
      .align-self-center { align-self: center; }

      .controls {


      }
      .preview {
        background: var(--accentColor);
        border: var(--borderSize) solid red;
        height: 100%;
      }

      input[type=range] {
        margin: 0;
        padding: 1rem 0;
      }

      input[type=range]::-webkit-slider-thumb {
        background: green;
      }

      input[type=range]::-moz-range-track {
        background: red;
        height: .25rem;
        box-shadow: 1px 1px 0 green;
      }

      input[type=range]::-moz-range-thumb {
        background-color: red;
        border: none;
        width: 2rem;
        height: 2rem;
        border-radius: 50%;
        box-shadow: 1px 1px 0 green;
      }

      input[type=color] {
        border: none;
        width: 100%;
      }

      h1 { font-size: var(--h1FontSize); }

      .accentColor { color: var(--accentColor); }

      :root {
        --borderSize: 2rem;
        --h1FontSize: 2rem;
        --accentColor: #eeeeee;
      }
    </style>
  </head>

  <body>

    <div class="vh100 flex flex-column align-items-center justify-content-center">
      <div class="h1 accentColor">Update CSS Variables with JS</div>
      <div class="flex flex-center col-12">
        <section class="controls col-5 p3 border-box">
          <div>
            <form>
              <label class=""><code>div { border-size <output name="borderSizeValue">2</output>rem; }</code></label>
              <input type="range" name="borderSizeRange" min="0" max="5" value="2" class="col-12" oninput="this.form.borderSizeValue.value=this.value">
              <!-- <input type="number" name="borderValue" value="25" oninput="this.form.border.value=this.value"> -->

              <hr>

              <label class=""><code>h1 { font-size <output name="h1FontSizeValue">4</output>rem; }</code></label>
              <input type="range" name="h1FontSizeRange" min="1" max="15" value="4" class="col-12" oninput="this.form.h1FontSizeValue.value=this.value">

              <hr>

              <label class=""><code>:root { --accentColor: <output name="accentColorValue">#eeeeee</output>; }</code></label>
              <input type="color" name="accentColorPicker" value="#eeeeee" class="block p0"   oninput="this.form.accentColorValue.value=this.value">

            </form>
          </div>
        </section>
        <section class="col-7 px3">
          <div class="preview p4 border-box">
            <h1 class="m0 overflow-auto">heading 1</h1>
          </div>
        </section>
      </div>
    </div>

    <script>
      const inputs = document.querySelectorAll('.controls input');
      const borderSizeRange = document.querySelector('input[name=borderSizeRange]');
      const h1FontSizeRange = document.querySelector('input[name=h1FontSizeRange]');
      const accentColorPicker = document.querySelector('input[type=color]');

      borderSizeRange.addEventListener('input', function(e) {
        console.log('The borderSizeRange input value is ' + borderSizeRange.value);
        updateBorderSize(borderSizeRange.value);
      }, false);

      h1FontSizeRange.addEventListener('input', function(e) {
        console.log('The h1FontSizeRange input value is ' + h1FontSizeRange.value);
        updateH1FontSize(h1FontSizeRange.value);
      }, false);

      accentColorPicker.addEventListener('input', function(e) {
        console.log('The accentColorPicker input value is ' + accentColorPicker.value);
        updateAccentColor(accentColorPicker.value);
      }, false);

      function updateBorderSize(input) {
        document.documentElement.style.setProperty('--borderSize', input + 'rem');
      }

      function updateH1FontSize(input) {
        document.documentElement.style.setProperty('--h1FontSize', input + 'rem');
      }

      function updateAccentColor(input) {
        document.documentElement.style.setProperty('--accentColor', input);
        console.log('accentColor input is: ' + input)
      }
    </script>

  </body>

  <!--
    REFERENCES
    - box-shadow, https://developer.mozilla.org/en-US/docs/Web/CSS/box-shadow
    - input type=range, https://www.w3.org/wiki/HTML/Elements/input/range
    - input, https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input
    - show input range value (everything here), http://stackoverflow.com/q/10004723/2145103
    - eventListener oninput, https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/oninput
    - addEventListener(), https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener
    - :root, https://developer.mozilla.org/en-US/docs/Web/CSS/:root
    - setting a custom css variable with javascript, http://stackoverflow.com/a/37802204/2145103
    - tutorial codepen, https://codepen.io/wesbos/pen/adQjoY
    - addEventListener, http://help.dottoro.com/ljeuqqoq.php
    - what helped me understand to just try `inputElement.value`, http://stackoverflow.com/questions/23012635/get-value-of-an-input-type-range#23012666
  -->

</html>
